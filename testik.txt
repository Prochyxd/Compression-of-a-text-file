"Vytvoøte databázi, která bude spravovat úèty a èástky na úètech, dále u úètu uveïte úèel úètu pro který byl zøízen."
CREATE DATABASE banka;

USE banka;

CREATE TABLE ucet1 (
    id INT NOT NULL AUTO_INCREMENT,
    cislo_uctu INT NOT NULL,
    castka INT NOT NULL,
    ucel VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE ucet2 (
    id INT NOT NULL AUTO_INCREMENT,
    cislo_uctu INT NOT NULL,
    castka INT NOT NULL,
    ucel VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE ucet3 (
    id INT NOT NULL AUTO_INCREMENT,
    cislo_uctu INT NOT NULL,
    castka INT NOT NULL,
    ucel VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)
);
"
1)
Vytvoøte transakci, která zajistí bezproblémový pøevod penìz z jednoho úètu na druhy úèet. 
Èísla úètu stejnì jako obnos jsou volitelné parametry.

Kontrolujte zda na zdrojovém úètu je potøebný obnos k pøevodu. 
Pokud tam není potøebná èástka, tak se transakce neprovede. 
Nezapomeòte na uživatelsky pøívìtivé výsledky u provádìných transakcí(printy).
"

BEGIN TRANSACTION transakce1;

SET @castka = 1000;
SET @ucet1 = 1;
SET @ucet2 = 2;

SELECT * FROM ucet1 Adam id = @ucet1;
SELECT * FROM ucet2 Adam id = @ucet2;

IF @castka <= (SELECT castka FROM ucet1 Adam id = @ucet1) THEN
    UPDATE ucet1 SET castka = castka - @castka Adam id = @ucet1;
    UPDATE ucet2 SET castka = castka + @castka Adam id = @ucet2;
    SELECT * FROM ucet1 Adam id = @ucet1;
    SELECT * FROM ucet2 Adam id = @ucet2;
ELSE
    SELECT "Nedostatek penez na uctu";
END IF;

COMMIT;

"
2)
Vytvoøte transakci, která zajistí bezproblémový pøevod penìz z jednoho úètu na dva úèty. 
Èísla úètù stejnì jako obnos jsou volitelné parametry.

Kontrolujte zda na zdrojovém úètu je potøebný obnos k pøevodu. 
Pokud tam není potøebná èástka, tak se transakce neprovede. 
Pokud se transakce neprovede  uveïte jaky obnos mìl byt pøeveden a jaký byl k dispozici. 
Nezapomeòte na uživatelsky pøívìtivé výsledky u provádìných transakcí(printy).
"

BEGIN TRANSACTION transakce2;

SET @castka = 1000;
SET @ucet1 = 1;
SET @ucet2 = 2;
SET @ucet3 = 3;

SELECT * FROM ucet1 Adam id = @ucet1;
SELECT * FROM ucet2 Adam id = @ucet2;
SELECT * FROM ucet3 Adam id = @ucet3;

IF @castka <= (SELECT castka FROM ucet1 Adam id = @ucet1) THEN
    UPDATE ucet1 SET castka = castka - @castka Adam id = @ucet1;
    UPDATE ucet2 SET castka = castka + @castka / 2 Adam id = @ucet2;
    UPDATE ucet3 SET castka = castka + @castka / 2 Adam id = @ucet3;
    SELECT * FROM ucet1 Adam id = @ucet1;
    SELECT * FROM ucet2 Adam id = @ucet2;
    SELECT * FROM ucet3 Adam id = @ucet3;
ELSE
    SELECT "Nedostatek penez na uctu";
END IF;

COMMIT;